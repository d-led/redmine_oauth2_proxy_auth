= Redmine OAuth2 Proxy Authentication

Log in users via HTTP headers set by oauth2-proxy.

This is a fork of {redmine_proxyauth}[https://github.com/FES-Ehemalige/redmine_proxyauth] with enhanced support for:
- GitHub OAuth2 (via API token lookup)
- Seamless auto-login from OAuth2 proxy headers
- Session cookie path configuration to prevent redirect loops
- Auto-admin promotion based on email list
- Trusted proxy header configuration

== Original Plugin

This plugin is based on the work by Alexander Vowinkel and FES-Ehemalige e.V.
Original repository: https://github.com/FES-Ehemalige/redmine_proxyauth

== Usage

This plugin can be used if you are securing Redmine with an instance of {oauth2-proxy}[https://oauth2-proxy.github.io/oauth2-proxy/].

The plugin supports:
- JWT tokens (OIDC providers like Google, Azure)
- GitHub OAuth2 access tokens (via API lookup)
- Header-based fallback (X-Auth-Request-Email, X-Forwarded-Email)

Users are automatically created and logged in when they first access Redmine through oauth2-proxy.
If the required headers are missing, users will be redirected to an error page.

== Configuration

Configuration is done via environment variables:
- `REDMINE_ADMIN_EMAILS`: Comma-separated list of emails to auto-promote to admin
- `DEBUG_PROXY_HEADERS`: Set to "true" to enable debug logging of proxy headers

The plugin includes initializers for:
- Auto-login from OAuth2 headers (prevents redirect loops)
- Session cookie path configuration
- Trusted proxy configuration
- Auto-admin promotion
- Debug header logging